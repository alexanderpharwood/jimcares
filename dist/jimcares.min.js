!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Jim=t()}(this,function(){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){if(void 0===window.__jimcares)throw new Error("Jim is not initialised yet. Call Jim.init({options}) first");return window.__jimcares}function i(e){return e.split("/")}function n(e){var t=u(),n=i(e);if(0===n.length)return t[e].value;if(void 0!==t[n[0]]){var r=t[n[0]].value;for(var o in n.shift(),n)r=r[n[o]];return r}}function t(){return function(e){for(var t=[e],n=0,r=0;r<t.length;r++)switch(a(t[r])){case"boolean":n+=4;break;case"number":n+=8;break;case"string":n+=2*t[r].length;break;case"object":if("[object Array]"!=Object.prototype.toString.call(t[r]))for(var o in t[r])n+=2*o.length;for(var o in t[r]){for(var u=!1,i=0;i<t.length;i++)if(t[i]===t[r][o]){u=!0;break}u||t.push(t[r][o])}}return n}(u())}function o(e){var t=u(),n=i(e);return 0===n.length?t[e].value:t[n[0]]}function f(){u().updated_at=new Date}function c(e){var t=o(e);return void 0!==t&&(t.deleted_at=new Date,f(),!0)}function l(){return JSON.stringify(u())}return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,null,[{key:"init",value:function(){return window.__jimcares={created_at:new Date,updated_at:new Date},!0}},{key:"has",value:function(e){return function(e){return void 0!==n(e)}(e)}},{key:"remember",value:function(e,t){return function(e,t){if(void 0===e)throw new Error("path cannot be undefined");var n=u()[e]={};return n.value=t,n.created_at=new Date,n.updated_at=new Date,n.deleted_at=null,f(),!0}(e,t)}},{key:"get",value:function(e){return n(e)}},{key:"root",value:function(e){return o(e)}},{key:"writeToLS",value:function(){return"undefined"==typeof Storage?(console.error("Client does not support local storage"),!1):localStorage.setItem("__jimcares",l())}},{key:"trash",value:function(e){return c(e)}},{key:"isTrashed",value:function(e){return c(e)}},{key:"forget",value:function(e){return function(e){var t=u();return i(e),f(),delete t[e]}(e)}},{key:"clear",value:function(){!function(){var e=u(),t=["created_at","updated_at"];for(var n in e)-1===t.indexOf(n)&&delete e[n]}()}},{key:"destroy",value:function(){delete window.__jimcares}},{key:"toJson",value:function(){return l()}},{key:"size",value:function(){return t()}},{key:"count",value:function(){return function(){var e=u();return Object.keys(e).length-["created_at","updated_at"].length}()}},{key:"equals",value:function(e,t){return function(e,t){return n(e)===t}(e,t)}}]),e}()});
//# sourceMappingURL=jimcares.min.js.map
